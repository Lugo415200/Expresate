<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Plantilla 002 | Ynoel English</title>
  <link rel="stylesheet" href="layout.css" />
  <link rel="stylesheet" href="theme-light.css" />
</head>
<body data-lesson-id="template-002">

  <div class="topbar">
    <div class="topbar-inner">
      <div class="brand">Ynoel English</div>
      <a class="pill" href="lessons.html">Lecciones</a>
    </div>
  </div>

  <div class="shell">

    <!-- LEFT: NAV -->
    <aside class="panel sidebar">
      <h3>Plantillas</h3>
      <nav class="sidebar">
        <a href="index.html">Inicio</a>
        <a href="lessons.html">Lecciones</a>
        <a href="curso.html">Curso</a>
        <a href="lesson-001.html">Plantilla 001 — Pronombres + Verbos</a>
        <a class="active" href="lesson-002.html">Plantilla 002 — Preguntas (Do/Does)</a>
        <a href="#" title="Próximamente">Plantilla 003 — Negaciones (Don’t/Doesn’t)</a>
      </nav>
    </aside>

    <!-- CENTER: CONTENT -->
    <main class="content">
      <h1>Plantilla 002</h1>
      <p class="sub">Preguntas en presente: <strong>Do / Does</strong></p>

      <div class="block">
        <h2>Objetivo</h2>
        <p>Formar preguntas simples en inglés usando <strong>Do</strong> y <strong>Does</strong>.</p>
        <p><strong>No memorices reglas. Sigue el patrón.</strong></p>
      </div>

      <div class="block">
        <h2>1) Mapeo rápido</h2>
        <div class="mapeo">
  <div class="map-grid">
    <div class="map-card">
      <div class="map-badge">DO</div>
      <div class="map-line"><strong>I</strong> / You / We / They</div>
      <div class="map-sub">Preguntas en presente</div>
    </div>

    <div class="map-card">
      <div class="map-badge does">DOES</div>
      <div class="map-line">He / <strong>She</strong></div>
      <div class="map-sub">Él / Ella</div>
    </div>
  </div>

  <div class="map-rule">
    <span class="chip">Regla</span>
    En preguntas, el verbo va en forma base: <strong>work</strong>
    <span class="muted">(no <s>works</s>)</span>
  </div>

  <div class="map-example">
    <div class="good">✅ Does she work?</div>
    <div class="bad">❌ Does she works?</div>
  </div>
</div>


        <p class="small"><strong>Importante:</strong> En preguntas, el verbo va en forma base: <strong>work</strong> (no <s>works</s>).</p>
        <p class="small">✅ <strong>Does she work?</strong> (no <s>Does she works?</s>)</p>
      </div>

      <div class="block">
        <h2>2) Patrón básico</h2>
        <p>Verbo: <strong>work</strong></p>
        <pre>¿Tú trabajas?         → Do you work?
¿Nosotros trabajamos?  → Do we work?
¿Ellos trabajan?       → Do they work?
¿Ella trabaja?         → Does she work?
¿Él trabaja aquí?      → Does he work here?</pre>
      </div>

      <div class="block">
        <h2>3) Respuestas cortas (sí / no)</h2>
        <pre>Do you work?     → Yes, I do. / No, I don't.
Does she work?   → Yes, she does. / No, she doesn't.</pre>

        <p class="small"><strong>Pista:</strong> Responde con <strong>do/does</strong>, no con el verbo principal.</p>
      </div>

      <div class="block">
        <h2>4) Ejemplos (live / study)</h2>
        <ul>
          <li>¿Tú vives aquí? → <strong>Do you live here?</strong></li>
          <li>¿Ella vive aquí? → <strong>Does she live here?</strong></li>
          <li>¿Ellos estudian? → <strong>Do they study?</strong></li>
          <li>¿Él estudia inglés? → <strong>Does he study English?</strong></li>
        </ul>
      </div>

      <!-- INTERACTIVE PRACTICE -->
      <div class="block practice" id="practice-002">
        <h2>5) Práctica (escribe)</h2>
        <p class="small">Traduce al inglés. Escribe tu respuesta y presiona <strong>Verificar</strong> (o Enter).</p>

        <div class="practice-list">

          <div class="practice-item" data-answer="Do you work?">
            <div class="prompt">1) ¿Tú trabajas?</div>
            <div class="row">
              <input class="answer" type="text" placeholder="Type in English..." autocomplete="off" />
              <button class="check-btn btn" type="button">Verificar</button>
            </div>
            <div class="feedback" aria-live="polite"></div>
          </div>

          <div class="practice-item" data-answer="Does she live here?">
            <div class="prompt">2) ¿Ella vive aquí?</div>
            <div class="row">
              <input class="answer" type="text" placeholder="Type in English..." autocomplete="off" />
              <button class="check-btn btn" type="button">Verificar</button>
            </div>
            <div class="feedback" aria-live="polite"></div>
          </div>

          <div class="practice-item" data-answer="Do they study?">
            <div class="prompt">3) ¿Ellos estudian?</div>
            <div class="row">
              <input class="answer" type="text" placeholder="Type in English..." autocomplete="off" />
              <button class="check-btn btn" type="button">Verificar</button>
            </div>
            <div class="feedback" aria-live="polite"></div>
          </div>

          <div class="practice-item" data-answer="Does he work here?">
            <div class="prompt">4) ¿Él trabaja aquí?</div>
            <div class="row">
              <input class="answer" type="text" placeholder="Type in English..." autocomplete="off" />
              <button class="check-btn btn" type="button">Verificar</button>
            </div>
            <div class="feedback" aria-live="polite"></div>
          </div>

          <div class="practice-item" data-answer="Do we work today?">
            <div class="prompt">5) ¿Nosotros trabajamos hoy?</div>
            <div class="row">
              <input class="answer" type="text" placeholder="Type in English..." autocomplete="off" />
              <button class="check-btn btn" type="button">Verificar</button>
            </div>
            <div class="feedback" aria-live="polite"></div>
          </div>

        </div>

        <div class="practice-actions">
          <button class="btn" id="checkAll" type="button">Verificar todo</button>
          <button class="btn" id="resetPractice" type="button">Reiniciar</button>
        </div>
      </div>

      <div class="block">
        <h2>6) Práctica (responde corto)</h2>
        <p class="small">Contesta con <strong>Yes, I do</strong> / <strong>No, I don't</strong> o <strong>Yes, she does</strong> / <strong>No, she doesn't</strong>.</p>
        <ol>
          <li>Do you work?</li>
          <li>Does she study?</li>
          <li>Do they live here?</li>
          <li>Does he work today?</li>
        </ol>
      </div>

      <div class="block">
        <h2>Audio (pronunciación)</h2>
        <p class="small">Escucha y repite. (Agrega MP3 después en <code>/audio/template-002/</code>)</p>

        <p><strong>Do you work?</strong></p>
        <audio controls preload="none">
          <source src="audio/template-002/do-you-work.mp3" type="audio/mpeg">
        </audio>

        <p><strong>Does she live here?</strong></p>
        <audio controls preload="none">
          <source src="audio/template-002/does-she-live-here.mp3" type="audio/mpeg">
        </audio>
      </div>

      <div class="actions">
        <a class="btn" href="lessons.html">← Volver</a>
        <a class="btn primary" href="#" title="Próximamente">Siguiente →</a>
      </div>

      <p class="small">© <span id="year"></span> Ynoel English</p>
    </main>

    <!-- RIGHT: ACTIONS -->
    <aside class="panel right">
      <h3>Acciones</h3>
      <div style="padding:12px 14px;">
        <p id="lessonStatus" class="small">Estado: No completada todavía</p>

        <div class="actions">
          <button id="markComplete" class="btn primary" type="button">
            Marcar como completada
          </button>

          <a class="btn" href="https://forms.gle/REPLACE_ME" target="_blank" rel="noreferrer">
            Hacer el quiz
          </a>
        </div>

        <hr />

        <p class="small">
          Cuando termines, envía el quiz y manda una nota de voz para corregir tu pronunciación.
        </p>

        <div class="actions">
          <a class="btn" href="https://wa.me/REPLACE_ME" target="_blank" rel="noreferrer">Enviar nota de voz (WhatsApp)</a>
        </div>
      </div>
    </aside>

  </div>

  <script src="app.js"></script>

  <!-- PRACTICE VALIDATION (same behavior as lesson-001) -->
  <script>
    function normalizeAnswer(s) {
      return (s || "")
        .toLowerCase()
        .trim()
        .replace(/[“”"]/g, '"')
        .replace(/[’‘]/g, "'")
        .replace(/\s+/g, " ")
        .replace(/[.!?]+$/g, ""); // ignore ending punctuation
    }

    function checkItem(item) {
      const input = item.querySelector("input.answer");
      const feedback = item.querySelector(".feedback");
      const expected = item.getAttribute("data-answer") || "";

      const user = input.value;

      if (!user.trim()) {
        feedback.className = "feedback bad";
        feedback.textContent = "Escribe tu respuesta primero.";
        return false;
      }

      const ok = normalizeAnswer(user) === normalizeAnswer(expected);

      if (ok) {
        feedback.className = "feedback ok";
        feedback.textContent = "✅ Correcto";
        item.dataset.status = "ok";
        return true;
      } else {
        feedback.className = "feedback bad";
        feedback.textContent = `❌ Incorrecto. Respuesta: ${expected}`;
        item.dataset.status = "bad";
        return false;
      }
    }

    function resetItem(item) {
      item.querySelector("input.answer").value = "";
      const feedback = item.querySelector(".feedback");
      feedback.className = "feedback";
      feedback.textContent = "";
      delete item.dataset.status;
    }

    document.addEventListener("click", (e) => {
      const btn = e.target.closest(".check-btn");
      if (btn) {
        const item = btn.closest(".practice-item");
        checkItem(item);
        return;
      }

      const checkAll = e.target.closest("#checkAll");
      if (checkAll) {
        const box = checkAll.closest(".practice");
        const items = box.querySelectorAll(".practice-item");
        items.forEach(i => checkItem(i));
        return;
      }

      const reset = e.target.closest("#resetPractice");
      if (reset) {
        const box = reset.closest(".practice");
        box.querySelectorAll(".practice-item").forEach(resetItem);
        return;
      }
    });

    document.addEventListener("keydown", (e) => {
      if (e.key !== "Enter") return;
      const input = e.target.closest("input.answer");
      if (!input) return;
      e.preventDefault();
      const item = input.closest(".practice-item");
      checkItem(item);
    });
  </script>
</body>
</html>
