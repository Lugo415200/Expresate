<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LecciÃ³n 000 | SÃ­labas y Acento (Stress) | ExprÃ©sate</title>
  <link rel="stylesheet" href="layout.css" />
  <link rel="stylesheet" href="theme-light.css" />
</head>

<body data-lesson-id="lesson-000-syllables">

  <!-- TOP BAR -->
  <div class="topbar">
    <div class="topbar-inner">
      <div class="brand">ExprÃ©sate</div>
      <a class="pill" href="curso.html">Curso</a>
    </div>
  </div>

  <div class="shell">

    <!-- LEFT -->
    <aside class="panel sidebar">
      <h3>NavegaciÃ³n</h3>
      <nav class="sidebar">
        <a href="index.html">Inicio</a>
        <a class="active" href="curso.html">Curso</a>
        <a href="diccionario.html">Diccionario</a>
      </nav>
    </aside>

    <!-- CENTER -->
    <main class="content">
      <h1>LecciÃ³n 000 â€” SÃ­labas y Acento en InglÃ©s</h1>

      <!-- MINI DECK (Optional, uses your mini-deck.js) -->
      <div id="deck-lesson-000-syllables"></div>

      <p class="sub">
        Meta: entender por quÃ© en inglÃ©s una sÃ­laba suena mÃ¡s fuerte (stress) y las demÃ¡s se reducen.
      </p>

      <!-- 1) IDEA CLAVE -->
      <div class="block" id="concepto">
        <h2>1) La idea clave</h2>
        <p class="small">
          En espaÃ±ol solemos pronunciar <strong>todas las sÃ­labas claras</strong>.
          En inglÃ©s, el ritmo depende del <strong>stress</strong>: una sÃ­laba es la â€œfuerteâ€ y las otras se dicen mÃ¡s suave / rÃ¡pido.
        </p>

        <div class="block" style="margin-top:12px;">
          <p class="small" style="margin:0;">
            âœ… Piensa asÃ­: <strong>FUERTE + suave + suave</strong> (no â€œfuerte + fuerte + fuerteâ€).
          </p>
        </div>
      </div>

      <!-- 2) QUE ES STRESS -->
      <div class="block" id="stress">
        <h2>2) Â¿QuÃ© es el â€œstressâ€?</h2>
        <p class="small">
          El <strong>stress</strong> es la sÃ­laba que suena mÃ¡s fuerte, mÃ¡s larga o con un tono mÃ¡s marcado.
          Si cambias el stress, la palabra puede sonar incorrecta aunque digas las letras â€œbienâ€.
        </p>

        <ul>
          <li><strong>Stress</strong> = la sÃ­laba â€œestrellaâ€</li>
          <li>Las sÃ­labas sin stress se <strong>reducen</strong> (suave)</li>
          <li>Palabras largas = mÃ¡s reducciÃ³n</li>
        </ul>
      </div>

      <!-- 3) PRACTICA CON PALABRAS -->
      <div class="block" id="practica">
        <h2>3) PrÃ¡ctica (hazlo con audio)</h2>
        <p class="small">
          Presiona ğŸ”Š para escuchar. Luego abre â€œVer sÃ­labasâ€ y copia el ritmo.
        </p>

        <!-- WORD CARD: comfortable -->
        <div class="block word-card" data-word="comfortable" style="margin-top:12px;">
          <div style="display:flex; align-items:flex-start; justify-content:space-between; gap:12px;">
            <div>
              <h3 style="margin:0;">comfortable</h3>
              <p class="small" style="margin:6px 0 0 0;">cÃ³modo</p>
            </div>

            <div class="actions" style="margin:0;">
              <button class="btn btn-audio" type="button"
                      data-audio="audio/module-000/comfortable.mp3"
                      aria-label="Escuchar pronunciaciÃ³n normal">
                ğŸ”Š
              </button>
              <button class="btn btn-audio" type="button"
                      data-audio="audio/module-000/comfortable_slow.mp3"
                      aria-label="Escuchar pronunciaciÃ³n lenta">
                ğŸ¢
              </button>
              <button class="btn btn-toggle" type="button"
                      aria-expanded="false"
                      aria-controls="syllables-comfortable">
                Ver sÃ­labas
              </button>
            </div>
          </div>

          <p class="small" style="margin:10px 0 0 0;">
            <strong>IPA:</strong> /ËˆkÊŒmf.tÉš.bÉ™l/ &nbsp; Â· &nbsp; <strong>Stress:</strong> <strong>COMF</strong>
          </p>

          <div id="syllables-comfortable" hidden style="margin-top:10px;">
            <p class="small" style="margin:0 0 8px 0;"><strong>SÃ­labas:</strong> <strong>COMF</strong> Â· ter Â· ble</p>
            <p class="small" style="margin:0;">
              ğŸ‘‰ No es â€œcom-for-ta-bleâ€. En la vida real suena mÃ¡s corto: <strong>COMF-ter-bÉ™l</strong>.
            </p>
          </div>
        </div>

        <!-- WORD CARD: family -->
        <div class="block word-card" data-word="family" style="margin-top:12px;">
          <div style="display:flex; align-items:flex-start; justify-content:space-between; gap:12px;">
            <div>
              <h3 style="margin:0;">family</h3>
              <p class="small" style="margin:6px 0 0 0;">familia</p>
            </div>

            <div class="actions" style="margin:0;">
              <button class="btn btn-audio" type="button"
                      data-audio="audio/module-000/family.mp3"
                      aria-label="Escuchar pronunciaciÃ³n normal">
                ğŸ”Š
              </button>
              <button class="btn btn-toggle" type="button"
                      aria-expanded="false"
                      aria-controls="syllables-family">
                Ver sÃ­labas
              </button>
            </div>
          </div>

          <p class="small" style="margin:10px 0 0 0;">
            <strong>IPA:</strong> /ËˆfÃ¦m.É™.li/ &nbsp; Â· &nbsp; <strong>Stress:</strong> <strong>FAM</strong>
          </p>

          <div id="syllables-family" hidden style="margin-top:10px;">
            <p class="small" style="margin:0 0 8px 0;"><strong>SÃ­labas:</strong> <strong>FAM</strong> Â· uh Â· lee</p>
            <p class="small" style="margin:0;">
              ğŸ‘‰ No es â€œfa-MI-liaâ€. Es mÃ¡s como <strong>FAM-uh-lee</strong>.
            </p>
          </div>
        </div>

        <!-- WORD CARD: camera -->
        <div class="block word-card" data-word="camera" style="margin-top:12px;">
          <div style="display:flex; align-items:flex-start; justify-content:space-between; gap:12px;">
            <div>
              <h3 style="margin:0;">camera</h3>
              <p class="small" style="margin:6px 0 0 0;">cÃ¡mara</p>
            </div>

            <div class="actions" style="margin:0;">
              <button class="btn btn-audio" type="button"
                      data-audio="audio/module-000/camera.mp3"
                      aria-label="Escuchar pronunciaciÃ³n normal">
                ğŸ”Š
              </button>
              <button class="btn btn-toggle" type="button"
                      aria-expanded="false"
                      aria-controls="syllables-camera">
                Ver sÃ­labas
              </button>
            </div>
          </div>

          <p class="small" style="margin:10px 0 0 0;">
            <strong>IPA:</strong> /ËˆkÃ¦m.rÉ™/ &nbsp; Â· &nbsp; <strong>Stress:</strong> <strong>CAM</strong>
          </p>

          <div id="syllables-camera" hidden style="margin-top:10px;">
            <p class="small" style="margin:0 0 8px 0;"><strong>SÃ­labas:</strong> <strong>CAM</strong> Â· ruh</p>
            <p class="small" style="margin:0;">
              ğŸ‘‰ Muchos dicen â€œCA-me-raâ€ (âŒ). Normalmente se reduce: <strong>CAM-ruh</strong> (âœ…).
            </p>
          </div>
        </div>

      </div>

      <!-- 4) PRACTICA PERSONAL -->
      <div class="block" id="practica-nombre">
        <h2>4) Tu prÃ¡ctica (sÃºper importante)</h2>
        <ol>
          <li>Escribe tu nombre y apellido.</li>
          <li>Identifica quÃ© parte dirÃ­as con mÃ¡s fuerza (stress).</li>
          <li>Di el resto mÃ¡s suave y rÃ¡pido.</li>
        </ol>

        <p class="small">
          Consejo: grÃ¡bate 10 segundos con tu celular. CompÃ¡rate con el audio (si tienes).
        </p>
      </div>

      <!-- NAV ACTIONS -->
      <div class="actions">
        <a class="btn" href="lesson-001-sounds.html">â† Volver al anterior</a>
        <button class="btn primary" type="button" id="markComplete">
  Marcar como completada âœ…
</button>

<script>
  const STORAGE_KEY = "expresate_progress_v1";
  const LESSON_ID = "lesson-000-syllables";

  document.getElementById("markComplete").addEventListener("click", () => {
    const p = JSON.parse(localStorage.getItem(STORAGE_KEY) || "{}");
    p[LESSON_ID] = true;
    localStorage.setItem(STORAGE_KEY, JSON.stringify(p));

    // Return to course and trigger unlock
    window.location.href = `curso.html?complete=${encodeURIComponent(LESSON_ID)}`;
  });
</script>

      </div>

      <p class="small">Â© <span id="year"></span> ExprÃ©sate</p>
    </main>

    <!-- RIGHT -->
    <aside class="panel right">
      <h3>Enfoque</h3>
      <div style="padding:12px 14px;">
        <p class="small"><strong>Objetivo:</strong> entender stress + reducciÃ³n.</p>
        <hr />
        <p class="small">âœ… Escucha 3 palabras</p>
        <p class="small">âœ… Abre â€œVer sÃ­labasâ€</p>
        <p class="small">âœ… Repite 3 veces (lento â†’ normal)</p>
      </div>
    </aside>

  </div>

  <!-- MINI DECK SCRIPT (your existing) -->
  <script src="mini-deck.js"></script>

  <script>
    // Mini-deck (optional) â€” quick review cards
    const coreWords = [
      { letter: "Stress", es: "Acento", en: "Strong syllable", audio: "" },
      { letter: "Reduce", es: "Reducir", en: "Say softer", audio: "" },
      { letter: "Rhythm", es: "Ritmo", en: "English is stress-timed", audio: "" },
    ];

    // If your mini-deck expects audio, it's fine if audio is "" (it won't play)
    createMiniDeck("deck-lesson-000-syllables", coreWords, {
      title: "Para esta lecciÃ³n necesitas conocer:",
      showAudio: false
    });
  </script>

  <!-- MODULE 000 LOGIC: toggles + audio (everything needed) -->
  <script>
    // One shared audio player to prevent overlaps
    const player = new Audio();
    player.preload = "auto";

    // Play audio buttons: any element with data-audio
    document.addEventListener("click", (e) => {
      const btn = e.target.closest("[data-audio]");
      if (!btn) return;

      const src = btn.getAttribute("data-audio");
      if (!src) return;

      // Restart if same file clicked
      if (player.src.includes(src)) {
        player.currentTime = 0;
      } else {
        player.src = src;
      }
      player.play().catch(() => {});
    });

    // Toggle syllables: any .btn-toggle with aria-controls
    document.addEventListener("click", (e) => {
      const t = e.target.closest(".btn-toggle");
      if (!t) return;

      const id = t.getAttribute("aria-controls");
      if (!id) return;

      const panel = document.getElementById(id);
      if (!panel) return;

      const isOpen = !panel.hasAttribute("hidden");
      if (isOpen) {
        panel.setAttribute("hidden", "");
        t.setAttribute("aria-expanded", "false");
        t.textContent = "Ver sÃ­labas";
      } else {
        panel.removeAttribute("hidden");
        t.setAttribute("aria-expanded", "true");
        t.textContent = "Ocultar sÃ­labas";
      }
    });
  </script>

  <!-- GLOBAL APP -->
  <script src="app.js"></script>
</body>
</html>
